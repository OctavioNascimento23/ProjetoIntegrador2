<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relatório de Horas Treinadas</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Cabeçalho -->
        <header class="header">
            <h1>Relatório de Horas Treinadas</h1>
        </header>
        
        <!-- Relatório -->
        <main class="relatorio">
            <p><strong>CPF:</strong> <span id="cpf"></span></p>
            <p><strong>Total de Horas Treinadas na Última Semana:</strong> <span id="horas-treinadas"></span> horas</p>
            <p><strong>Classificação:</strong> <span id="nivel"></span></p>
        </main>

        <!-- Rodapé -->
        <footer class="footer">
            <button class="btn voltar" onclick="window.location.href='/entrar.html'">Voltar</button>
        </footer>
    </div>

    <script>
        // Obtém o CPF da URL
        const cpf = window.location.pathname.split('/')[2];

        // Realiza uma requisição para obter os dados do relatório
        fetch(`/relatorio/${cpf}`)
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    document.getElementById('cpf').innerText = cpf;
                    document.getElementById('horas-treinadas').innerText = data.horasTreinadas;
                    document.getElementById('nivel').innerText = data.nivel;
                } else {
                    alert('Erro ao carregar o relatório.');
                }
            })
            .catch(error => console.error('Erro ao carregar o relatório:', error));
    </script>
</body>
</html>
